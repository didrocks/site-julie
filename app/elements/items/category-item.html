<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/paper-material/paper-material.html">

<dom-module id="category-item">
  <template>
    <style>
      :host {
        display: inline-block;
      }

      a {
        text-decoration: none;
        color: inherit;
        padding: 10px;
      }

      #titlewrapper {
        opacity: 0;
        transition: all 500ms ease-out;
        /* do not trigger pointer events so that on-mouseover and on-mouseout are triggered by the container */
        pointer-events: none;
      }

      a:hover #titlewrapper {
        opacity: 1;
      }

      .line {
        height: 2px;
        width: 0%;
        margin: 15px auto;
        background-color: #ffffff;
        transition: all 500ms ease-out;
      }

      a:hover .line {
        width: 100%;
      }

      paper-material > ::content img {
        display: block;
        max-width: 100%;
      }

    </style>
    <paper-material id="container" elevation="{{elevation}}" animated
                    on-mouseover="_containerHovered" on-mouseout="_containerExited">
      <a href="[[href]]" class="layout vertical">
        <content select="img"></content>
        <div id="titlewrapper" class="fit layout vertical center center-justified">
          <div class="line"></div>
          <div>[[label]]</div>
          <div class="line"></div>
        </div>
      </a>
    </paper-material>
  </template>

  <script>
    (function () {
      Polymer({
        is: 'category-item',

        properties: {
          elevation: {
            type: Number,
            value: 1
          },
          href: String,
          label: String,
        },
        _containerHovered: function() {
          this.$.container.elevation = 2;
        },
        _containerExited: function() {
          this.$.container.elevation = this.elevation;
        },
      });
    })();
  </script>

</dom-module>
